## 防抖

防抖的原理就是：你尽管触发事件，但是我一定在事件触发完成后的 n 秒后才执行，如果你在一个事件触发的 n 秒内又触发了这个事件，那我就以新的事件的时间为准，n 秒后才执行，总之，就是要等你触发完事件 n 秒内不再触发事件，我才执行，真是任性呐!

```js
            function debounce(fn, wait, immediate) {
                var timer
                return function (...args) {
                    if (timer) clearTimeout(timer)
                    // 立即执行,操作结束后，wait后才可能再开始
                    if (immediate) {
                        let callnow = !timer

                        timer = setTimeout(() => {
                            timer = null
                        }, wait)

                        if (callnow) fn.apply(this, args)
                    } else {
                        timer = setTimeout(() => {
                            // 保持this指向和传参
                            fn.apply(this, args)
                        }, wait)
                    }
                }
            }
```

